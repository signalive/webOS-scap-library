cordova.define("cordova/plugin/power",function(e,t,i){function r(e){}function n(e,t,i){(void 0===e.errorCode||null===e.errorCode)&&(e.errorCode=t),(void 0===e.errorText||null===e.errorText)&&(e.errorText=i)}function o(e){null===a?s.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(t){r("getPlatformInfo: onSuccess"),r("version : "+t.sdkVersion);var i=t.sdkVersion.split(".");l=i.length>=1&&"1"===i[0]?{webOSVer:1,chipset:t.boardType.split("_")[0]}:i.length>=1&&"2"===i[0]?{webOSVer:2,chipset:t.boardType.split("_")[0]}:{webOSVer:0,chipset:""},a=l.webOSVer,delete t.returnValue,e(l)},onFailure:function(t){r("getPlatformInfo: onFailure"),delete t.returnValue,l={webOSVer:0,chipset:""},e(l)}}):e(l)}function u(e){if("H15"==l.chipset)switch(e){case"ext://hdmi:1":return"HDMI1";case"ext://hdmi:2":return"HDMI2";case"ext://hdmi:3":return"OPS/HDMI3/DVI";case"ext://dvi:1":return"OPS/HDMI3/DVI";case"ext://dp:1":return"DISPLAYPORT";case"ext://rgb:1":return"RGB";case"ext://ops:1":return"OPS/HDMI3/DVI";case"HDMI1":return"ext://hdmi:1";case"HDMI2":return"ext://hdmi:2";case"HDMI3":return"ext://hdmi:3";case"DVI":return"ext://dvi:1";case"DISPLAYPORT":return"ext://dp:1";case"RGB":return"ext://rgb:1";case"OPS":return"ext://ops:1";case"OPS/HDMI3/DVI":return"ext://hdmi:3"}else switch(e){case"ext://hdmi:1":return 1===l.webOSVer?"HDMI1":"HDMI";case"ext://hdmi:2":return"HDMI2";case"ext://hdmi:3":return"HDMI3";case"ext://dvi:1":return"DVI";case"ext://dp:1":return"DISPLAYPORT";case"ext://rgb:1":return"RGB";case"ext://ops:1":return"OPS";case"HDMI1":return"ext://hdmi:1";case"HDMI":return"ext://hdmi:1";case"HDMI2":return"ext://hdmi:2";case"HDMI3":return"ext://hdmi:3";case"DVI":return"ext://dvi:1";case"DISPLAYPORT":return"ext://dp:1";case"RGB":return"ext://rgb:1";case"OPS":return"ext://ops:1";case"OPS/HDMI3/DVI":return"ext://hdmi:3"}return null}var s;window.PalmSystem?(r("Window.PalmSystem Available"),s=e("cordova/plugin/webos/service")):s={Request:function(e,t){r(e+" invoked. But I am a dummy because PalmSystem is not available"),"function"==typeof t.onFailure&&t.onFailure({returnValue:!1,errorText:"PalmSystem Not Available. Cordova is not installed?"})}};var m=function(){},a=null,l={};m.PowerCommand={SHUTDOWN:"powerOff",REBOOT:"reboot"},m.DisplayMode={DISPLAY_OFF:"Screen Off",DISPLAY_ON:"Active"},m.TimerWeek={MONDAY:1,TUESDAY:2,WEDNESDAY:4,THURSDAY:8,FRIDAY:16,SATURDAY:32,SUNDAY:64,EVERYDAY:127},m.prototype.getPowerStatus=function(e,t){r("getPowerStatus: "),s.Request("luna://com.webos.service.tv.signage/",{method:"getPowerState",onSuccess:function(i){r("getPowerStatus: On Success");var o={};i.returnValue===!0&&(o.displayMode=i.state),s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["wolEnable"]},onSuccess:function(i){r("getPowerStatus: On Success 2"),i.returnValue===!0&&(o.wakeOnLan="1"===i.settings.wolEnable?!0:!1),s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"time",keys:["onTimerEnable","offTimerEnable"]},onSuccess:function(t){r("getPowerStatus: On Success 3"),t.returnValue===!0&&(o.allOnTimer="on"===t.settings.onTimerEnable?!0:!1,o.allOffTimer="on"===t.settings.offTimerEnable?!0:!1,"function"==typeof e&&e(o))},onFailure:function(e){r("getPowerStatus: On Failure 3"),delete e.returnValue,"function"==typeof t&&(n(e,"PGPS","Power.getPowerStatus returns failure."),t(e))}})},onFailure:function(e){r("getPowerStatus: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PGPS","Power.getPowerStatus returns failure."),t(e))}})},onFailure:function(e){r("getPowerStatus: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PGPS","Power.getPowerStatus returns failure."),t(e))}}),r("Power.getPowerStatus Done")},m.prototype.enableAllOnTimer=function(e,t,i){r("enableAllOnTimer: "+JSON.stringify(i));var o=null;switch(i.allOnTimer){case!0:o="on";break;case!1:o="off";break;default:if("function"==typeof t){var u={};n(u,"PEAOT","Power.enableAllOnTimer returns failure. Invalid option value."),t(u)}return}s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"time",settings:{onTimerEnable:o}},onSuccess:function(){if(i.clearOnTimer===!0){var o=0,u=["0","0","0","0","0","0","0"],m=["0","0","0","0","0","0","0"],a=["0","0","0","0","0","0","0"],l=["0","0","0","0","0","0","0"],f=[];s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{multiOnTimerHour:u,multiOnTimerMinute:m,multiOnTimerWeekday:a,multiOnTimerSource:l,onTimerCount:o,onTimerSchedule:f}},onSuccess:function(){r("enableAllOnTimer: On Success 2"),"function"==typeof e&&e()},onFailure:function(e){r("enableAllOnTimer: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PEAOT","Power.enableAllOnTimer returns failure. / clearOnTimer"),t(e))}})}else"function"==typeof e&&(r("enableAllOnTimer: On Success"),e())},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r("enableAllOnTimer: On Failure"),n(e,"PEAOT","Power.enableAllOnTimer returns failure."),t(e))}}),r("Power.enableAllOnTimer Done")},m.prototype.enableAllOffTimer=function(e,t,i){r("enableAllOffTimer: "+JSON.stringify(i));var o=null;switch(i.allOffTimer){case!0:o="on";break;case!1:o="off";break;default:if("function"==typeof t){var u={};n(u,"PEAOT","Power.enableAllOffTimer returns failure. Invalid option value."),t(u)}return}s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"time",settings:{offTimerEnable:o}},onSuccess:function(){if(i.clearOffTimer===!0){var o=0,u=["0","0","0","0","0","0","0"],m=["0","0","0","0","0","0","0"],a=["0","0","0","0","0","0","0"],l=[];s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{multiOffTimerHour:u,multiOffTimerMinute:m,multiOffTimerWeekday:a,offTimerCount:o,offTimerSchedule:l}},onSuccess:function(){r("enableAllOffTimer: On Success 2"),"function"==typeof e&&e()},onFailure:function(e){r("enableAllOffTimer: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PEAOT","Power.enableAllOffTimer returns failure. / clearOffTimer"),t(e))}})}else"function"==typeof e&&(r("enableAllOffTimer: On Success"),e())},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r("enableAllOffTimer: On Failure"),n(e,"PEAOT","Power.enableAllOffTimer returns failure."),t(e))}}),r("Power.enableAllOffTimer Done")},m.prototype.enableWakeOnLan=function(e,t,i){r("enableWakeOnLan: "+JSON.stringify(i));var o=null;switch(i.wakeOnLan){case!0:o="1";break;case!1:o="0";break;default:if("function"==typeof t){var u={};n(u,"PSWOL","Power.enableWakeOnLan returns failure. Invalid option value."),t(u)}return}s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{wolEnable:o}},onSuccess:function(){"function"==typeof e&&(r("enableWakeOnLan: On Success"),e())},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(r("enableWakeOnLan: On Failure"),n(e,"PSWOL","Power.enableWakeOnLan returns failure."),t(e))}}),r("Power.enableWakeOnLan Done")},m.prototype.addOnTimer=function(e,t,i){if(r("addOnTimer: "+JSON.stringify(i)),void 0===i.hour||isNaN(i.hour)||"number"!=typeof i.hour||i.hour<0||i.hour>23||void 0===i.minute||isNaN(i.minute)||"number"!=typeof i.minute||i.minute<0||i.minute>59||void 0===i.week||isNaN(i.week)||"number"!=typeof i.week||i.week<0||i.week>127||void 0===i.inputSource||"string"!=typeof i.inputSource||0!==i.inputSource.indexOf("ext://")){if("function"==typeof t){var m={};n(m,"PAOT","Power.addOnTimer returns failure. invalid parameters or out of range."),t(m)}}else s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["multiOnTimerHour","multiOnTimerMinute","multiOnTimerWeekday","multiOnTimerSource","onTimerSchedule","onTimerCount"]},onSuccess:function(m){m.returnValue===!0&&o(function(o){r("version : "+o),"string"==typeof m.settings.multiOnTimerHour&&(m.settings.multiOnTimerHour=JSON.parse(m.settings.multiOnTimerHour)),"string"==typeof m.settings.multiOnTimerMinute&&(m.settings.multiOnTimerMinute=JSON.parse(m.settings.multiOnTimerMinute)),"string"==typeof m.settings.multiOnTimerWeekday&&(m.settings.multiOnTimerWeekday=JSON.parse(m.settings.multiOnTimerWeekday)),"string"==typeof m.settings.multiOnTimerSource&&(m.settings.multiOnTimerSource=JSON.parse(m.settings.multiOnTimerSource)),"string"==typeof m.settings.onTimerSchedule&&(m.settings.onTimerSchedule=JSON.parse(m.settings.onTimerSchedule));var a=null===m.settings.onTimerSchedule||void 0===m.settings.onTimerSchedule?0:m.settings.onTimerSchedule.length;if(m.settings.multiOnTimerHour.length<=a)return void("function"==typeof t&&(n(m,"PSOT","Power.addOnTimer returns failure. No space to add timer."),t(m)));m.settings.multiOnTimerHour[a]=i.hour,m.settings.multiOnTimerMinute[a]=i.minute,m.settings.multiOnTimerWeekday[a]=i.week,m.settings.multiOnTimerSource[a]=u(i.inputSource);var l=360;m.settings.onTimerSchedule[a]={_id:""+l++,hour:i.hour,input:u(i.inputSource),minute:i.minute,weekday:i.week},s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{multiOnTimerHour:m.settings.multiOnTimerHour,multiOnTimerMinute:m.settings.multiOnTimerMinute,multiOnTimerWeekday:m.settings.multiOnTimerWeekday,multiOnTimerSource:m.settings.multiOnTimerSource,onTimerCount:a+1,onTimerSchedule:m.settings.onTimerSchedule}},onSuccess:function(){r("addOnTimer: On Success 2"),"function"==typeof e&&e()},onFailure:function(e){r("addOnTimer: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PAOT","Power.addOnTimer returns failure."),t(e))}})})},onFailure:function(e){r("addOnTimer: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PAOT","Power.addOnTimer returns failure."),t(e))}}),r("Power.addOnTimer Done")},m.prototype.deleteOnTimer=function(e,t,i){if(r("deleteOnTimer: "+JSON.stringify(i)),void 0===i.hour||isNaN(i.hour)||"number"!=typeof i.hour||i.hour<0||i.hour>23||void 0===i.minute||isNaN(i.minute)||"number"!=typeof i.minute||i.minute<0||i.minute>59||void 0===i.week||isNaN(i.week)||"number"!=typeof i.week||i.week<0||i.week>127||void 0===i.inputSource||"string"!=typeof i.inputSource||0!==i.inputSource.indexOf("ext://")){if("function"==typeof t){var m={};n(m,"PDOT","Power.deleteOnTimer returns failure. invalid parameters or out of range."),t(m)}}else s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["multiOnTimerHour","multiOnTimerMinute","multiOnTimerWeekday","multiOnTimerSource","onTimerSchedule","onTimerCount"]},onSuccess:function(m){m.returnValue===!0&&o(function(o){r("version : "+o),"string"==typeof m.settings.multiOnTimerHour&&(m.settings.multiOnTimerHour=JSON.parse(m.settings.multiOnTimerHour)),"string"==typeof m.settings.multiOnTimerMinute&&(m.settings.multiOnTimerMinute=JSON.parse(m.settings.multiOnTimerMinute)),"string"==typeof m.settings.multiOnTimerWeekday&&(m.settings.multiOnTimerWeekday=JSON.parse(m.settings.multiOnTimerWeekday)),"string"==typeof m.settings.multiOnTimerSource&&(m.settings.multiOnTimerSource=JSON.parse(m.settings.multiOnTimerSource)),"string"==typeof m.settings.onTimerSchedule&&(m.settings.onTimerSchedule=JSON.parse(m.settings.onTimerSchedule));for(var a=0,l=null===m.settings.onTimerSchedule||void 0===m.settings.onTimerSchedule?0:m.settings.onTimerSchedule.length,f=["0","0","0","0","0","0","0"],c=["0","0","0","0","0","0","0"],d=["0","0","0","0","0","0","0"],g=["0","0","0","0","0","0","0"],T=[],O=u(i.inputSource),S=!1,p=0;l>p;p++)r("deleteOnTimer: "+O),null!==m.settings.onTimerSchedule[p]&&(S===!1&&i.hour===m.settings.onTimerSchedule[p].hour&&i.minute===m.settings.onTimerSchedule[p].minute&&i.week===m.settings.onTimerSchedule[p].weekday&&O===m.settings.onTimerSchedule[p].input?(r("deleteOnTimer: index "+p),S=!0):(f[a]=m.settings.multiOnTimerHour[p],c[a]=m.settings.multiOnTimerMinute[p],d[a]=m.settings.multiOnTimerWeekday[p],g[a]=m.settings.multiOnTimerSource[p],T[a]=m.settings.onTimerSchedule[p],a++));return S===!0&&l--,0===l&&(T=[]),m.settings.onTimerSchedule.length===l?void("function"==typeof t&&(n(m,"PDOT","Power.deleteOnTimer returns failure. There is no 'on timer' matched in the list."),t(m))):void s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{multiOnTimerHour:f,multiOnTimerMinute:c,multiOnTimerWeekday:d,multiOnTimerSource:g,onTimerCount:l,onTimerSchedule:T}},onSuccess:function(){r("deleteOnTimer: On Success 2"),"function"==typeof e&&e()},onFailure:function(e){r("deleteOnTimer: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PDOT","Power.deleteOnTimer returns failure."),t(e))}})})},onFailure:function(e){r("deleteOnTimer: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PDOT","Power.deleteOnTimer returns failure."),t(e))}}),r("Power.deleteOnTimer Done")},m.prototype.addOffTimer=function(e,t,i){if(r("addOffTimer: "+JSON.stringify(i)),void 0===i.hour||isNaN(i.hour)||"number"!=typeof i.hour||i.hour<0||i.hour>23||void 0===i.minute||isNaN(i.minute)||"number"!=typeof i.minute||i.minute<0||i.minute>59||void 0===i.week||isNaN(i.week)||"number"!=typeof i.week||i.week<0||i.week>127){if("function"==typeof t){var o={};n(o,"PAOT","Power.addOffTimer returns failure. Invalid parameter."),t(o)}}else s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["multiOffTimerHour","multiOffTimerMinute","multiOffTimerWeekday","offTimerSchedule","offTimerCount"]},onSuccess:function(o){if(o.returnValue===!0){"string"==typeof o.settings.multiOffTimerHour&&(o.settings.multiOffTimerHour=JSON.parse(o.settings.multiOffTimerHour)),"string"==typeof o.settings.multiOffTimerMinute&&(o.settings.multiOffTimerMinute=JSON.parse(o.settings.multiOffTimerMinute)),"string"==typeof o.settings.multiOffTimerWeekday&&(o.settings.multiOffTimerWeekday=JSON.parse(o.settings.multiOffTimerWeekday)),"string"==typeof o.settings.offTimerSchedule&&(o.settings.offTimerSchedule=JSON.parse(o.settings.offTimerSchedule));var u=null===o.settings.offTimerSchedule||void 0===o.settings.offTimerSchedule?0:o.settings.offTimerSchedule.length;if(o.settings.multiOffTimerHour.length<=u)return void("function"==typeof t&&(n(o,"PAOT","Power.addOffTimer returns failure. No space to add timer."),t(o)));o.settings.multiOffTimerHour[u]=i.hour,o.settings.multiOffTimerMinute[u]=i.minute,o.settings.multiOffTimerWeekday[u]=i.week;var m=360;o.settings.offTimerSchedule[u]={_id:""+m++,hour:i.hour,minute:i.minute,weekday:i.week},s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{multiOffTimerHour:o.settings.multiOffTimerHour,multiOffTimerMinute:o.settings.multiOffTimerMinute,multiOffTimerWeekday:o.settings.multiOffTimerWeekday,offTimerCount:u+1,offTimerSchedule:o.settings.offTimerSchedule}},onSuccess:function(){r("addOffTimer: On Success 2"),"function"==typeof e&&e()},onFailure:function(e){r("addOffTimer: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PAOT","Power.addOffTimer returns failure."),t(e))}})}},onFailure:function(e){r("addOffTimer: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PAOT","Power.addOffTimer returns failure."),t(e))}}),r("Power.addOffTimer Done")},m.prototype.deleteOffTimer=function(e,t,i){if(r("deleteOffTimer: "+JSON.stringify(i)),void 0===i.hour||isNaN(i.hour)||"number"!=typeof i.hour||i.hour<0||i.hour>23||void 0===i.minute||isNaN(i.minute)||"number"!=typeof i.minute||i.minute<0||i.minute>59||void 0===i.week||isNaN(i.week)||"number"!=typeof i.week||i.week<0||i.week>127){if("function"==typeof t){var o={};n(o,"PDOT","Power.deleteOffTimer returns failure. invalid parameters or out of range."),t(o)}}else s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["multiOffTimerHour","multiOffTimerMinute","multiOffTimerWeekday","offTimerSchedule","offTimerCount"]},onSuccess:function(o){if(o.returnValue===!0){"string"==typeof o.settings.multiOffTimerHour&&(o.settings.multiOffTimerHour=JSON.parse(o.settings.multiOffTimerHour)),"string"==typeof o.settings.multiOffTimerMinute&&(o.settings.multiOffTimerMinute=JSON.parse(o.settings.multiOffTimerMinute)),"string"==typeof o.settings.multiOffTimerWeekday&&(o.settings.multiOffTimerWeekday=JSON.parse(o.settings.multiOffTimerWeekday)),"string"==typeof o.settings.offTimerSchedule&&(o.settings.offTimerSchedule=JSON.parse(o.settings.offTimerSchedule));for(var u=0,m=null===o.settings.offTimerSchedule||void 0===o.settings.offTimerSchedule?0:o.settings.offTimerSchedule.length,a=["0","0","0","0","0","0","0"],l=["0","0","0","0","0","0","0"],f=["0","0","0","0","0","0","0"],c=[],d=!1,g=0;m>g;g++)null!==o.settings.offTimerSchedule[g]&&(d===!1&&i.hour===o.settings.offTimerSchedule[g].hour&&i.minute===o.settings.offTimerSchedule[g].minute&&i.week===o.settings.offTimerSchedule[g].weekday?d=!0:(a[u]=o.settings.multiOffTimerHour[g],l[u]=o.settings.multiOffTimerMinute[g],f[u]=o.settings.multiOffTimerWeekday[g],c[u]=o.settings.offTimerSchedule[g],u++));if(d===!0&&m--,0===m&&(c=[]),o.settings.offTimerSchedule.length===m)return void("function"==typeof t&&(n(o,"PDOT","Power.deleteOffTimer returns failure. There is no 'off timer' matched in the list."),t(o)));s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{multiOffTimerHour:a,multiOffTimerMinute:l,multiOffTimerWeekday:f,offTimerCount:m,offTimerSchedule:c}},onSuccess:function(){r("deleteOffTimer: On Success 2"),"function"==typeof e&&e()},onFailure:function(e){r("deleteOffTimer: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PDOT","Power.deleteOffTimer returns failure."),t(e))}})}},onFailure:function(e){r("deleteOffTimer: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PDOT","Power.deleteOffTimer returns failure."),t(e))}}),r("Power.deleteOffTimer Done")},m.prototype.getOnTimerList=function(e,t){r("getOnTimerList: "),s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["onTimerSchedule"]},onSuccess:function(t){t.returnValue===!0&&o(function(i){r("version : "+i);var n={};"string"==typeof t.settings.onTimerSchedule&&(t.settings.onTimerSchedule=JSON.parse(t.settings.onTimerSchedule));for(var o=new Array(null===t.settings.onTimerSchedule||void 0===t.settings.onTimerSchedule?0:t.settings.onTimerSchedule.length),s=0,m=0;m<o.length;m++)null!==t.settings.onTimerSchedule[m]&&void 0!==t.settings.onTimerSchedule[m]&&(o[s]={hour:0,minute:0,week:0,inputSource:0},o[s].hour=t.settings.onTimerSchedule[m].hour,o[s].minute=t.settings.onTimerSchedule[m].minute,o[s].week=t.settings.onTimerSchedule[m].weekday,o[s++].inputSource=u(t.settings.onTimerSchedule[m].input));n.timerList=o,"function"==typeof e&&e(n)})},onFailure:function(e){r("getOnTimerList: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PGOTL","Power.getOnTimerList returns failure."),t(e))}}),r("Power.getOnTimerList Done")},m.prototype.getOffTimerList=function(e,t){r("getOffTimerList: "),s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["offTimerSchedule"]},onSuccess:function(t){if(r("getOffTimerList: On Success"),t.returnValue===!0){var i={};"string"==typeof t.settings.offTimerSchedule&&(t.settings.offTimerSchedule=JSON.parse(t.settings.offTimerSchedule));for(var n=new Array(null===t.settings.offTimerSchedule||void 0===t.settings.offTimerSchedule?0:t.settings.offTimerSchedule.length),o=0,u=0;u<n.length;u++)null!==t.settings.offTimerSchedule[u]&&void 0!==t.settings.offTimerSchedule[u]&&(n[o]={hour:0,minute:0,week:0},n[o].hour=t.settings.offTimerSchedule[u].hour,n[o].minute=t.settings.offTimerSchedule[u].minute,n[o++].week=t.settings.offTimerSchedule[u].weekday);i.timerList=n,"function"==typeof e&&e(i)}},onFailure:function(e){r("getOffTimerList: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PGOTL","Power.getOffTimerList returns failure."),t(e))}}),r("Power.getOffTimerList Done")},m.prototype.setDisplayMode=function(e,t,i){r("setDisplayMode: "+JSON.stringify(i));var o=null;switch(i.displayMode){case m.DisplayMode.DISPLAY_OFF:o="turnOffScreen";break;case m.DisplayMode.DISPLAY_ON:o="turnOnScreen";break;default:if("function"==typeof t){var u={};n(u,"PSDM","Power.setDisplayMode returns failure. Invalid option value."),t(u)}return}if(r("setDisplayMode: "+o),null===o&&"function"==typeof t){var u={};return n(u,"PSDM","Power.setDisplayMode returns failure. command was not defined."),t(u),void r("Power.setDisplayMode invalid ")}s.Request("luna://com.webos.service.tv.signage/",{method:"getPowerState",onSuccess:function(u){return r("setDisplayMode: On Success"),u.returnValue===!0&&u.state===i.displayMode?void("function"==typeof e&&(r("setDisplayMode: no need to do any action."),e())):void s.Request("luna://com.webos.service.tv.signage/",{method:o,onSuccess:function(t){r("setDisplayMode: On Success"),t.returnValue===!0&&"function"==typeof e&&e()},onFailure:function(e){r("setDisplayMode: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PSDM","Power.setDisplayMode returns failure."),t(e))}})},onFailure:function(e){r("setDisplayMode: On Failure 2"),delete e.returnValue,"function"==typeof t&&(n(e,"PSDM","Power.setDisplayMode returns failure."),t(e))}}),r("Power.setDisplayMode Done")},m.prototype.executePowerCommand=function(e,t,i){if(r("executePowerCommand: "+JSON.stringify(i)),void 0===i.powerCommand||"string"!=typeof i.powerCommand||null===i.powerCommand||i.powerCommand.length<=0){if("function"==typeof t){var o={};n(o,"PEPM","Power.executePowerCommand returns failure. invalid argument or out of range. "),t(o)}}else{if(i.powerCommand!==m.PowerCommand.REBOOT&&i.powerCommand!==m.PowerCommand.SHUTDOWN){var o={};return n(o,"PEPM","Power.executePowerCommand returns failure. invalid argument."),void t(o)}s.Request("luna://com.webos.service.tv.signage/",{method:i.powerCommand,parameters:{reason:"unknown"},onSuccess:function(t){r("executePowerCommand: On Success"),t.returnValue===!0&&"function"==typeof e&&e()},onFailure:function(e){r("executePowerCommand: On Failure"),delete e.returnValue,"function"==typeof t&&(n(e,"PEPM","Power.executePowerCommand returns failure."),t(e))}}),r("Power.executePowerCommand Done")}},i.exports=m}),Power=cordova.require("cordova/plugin/power");