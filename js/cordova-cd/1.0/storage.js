cordova.define("cordova/plugin/storage",function(d,h,b){var i;function f(k){console.log(k)}if(window.PalmSystem){f("Window.PalmSystem Available");i=d("cordova/plugin/webos/service")}else{i={Request:function(k,l){f(k+" invoked. But I am a dummy because PalmSystem is not available");if(typeof l.onFailure==="function"){l.onFailure({returnValue:false,errorText:"PalmSystem Not Available. Cordova is not installed?"})}}}}function g(q){var p=g.options,k=p.parser[p.strictMode?"strict":"loose"].exec(q),n={},l=14;while(l--){n[p.key[l]]=k[l]||""}n[p.q.name]={};n[p.key[12]].replace(p.q.parser,function(o,m,r){if(m){n[p.q.name][m]=r}});c(n);return n}g.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function c(k){if(k.protocol==="file"){if(k.host==="internal"){return a(k)}else{if(k.host==="usb"){e(k)}else{throw" Invalid Host: "+k.host}}}else{if(k.protocol==="http"||k.protocol==="https"){if(k.path.charAt(k.path.length-1)==="/"){throw"Invalid path: "+k.path}else{return}}else{throw"Invalid protocol: "+k.protocol}}}function a(k){if(k.path){f("Path: "+k.path);if(k.path.lastIndexOf("/")>0){throw"Invalid internal path: "+k.path}else{return}}else{f("No Path: ");throw"Invalid internal path: "+k.path}}function e(k){if(k.port){if(k.port.match("/[0-9]+/")){return{result:true}}else{throw"Invalid USB host: "+k.host}}else{throw"Invalid USB host: "+k.host}if(k.path){if(k.path.charAt(k.path.length-1)==="/"){throw"Invalid USB path: "+k.path}else{return{result:true}}}else{throw"Invalid USB path: "+k.path}}var j=function(){};j.prototype.upgradeApplication=function(k,l){i.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"upgradeApplication",parameters:{from:"remote"},onSuccess:function(m){if(m.returnValue===true){k()}else{l({errorCode:m.errorCode,errorText:m.errorText})}},onFailure:function(m){l({errorCode:m.errorCode,errorText:m.errorText})}})};j.prototype.copyFile=function(k,l,m){f("Options: "+JSON.stringify(m,null,3));if(typeof m==="undefined"||typeof m.destination!=="string"||typeof m.source!=="string"){f("Bad options");l({errorCode:"BAD_PARAM",errorText:JSON.stringify(m,null,3)});return}i.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"fs/copyFile",parameters:{dest:m.destination,src:m.source},onSuccess:function(n){if(n.returnValue===true){f("SUCCESS");k()}else{f("Err: "+n.errorText);l({errorCode:n.errorCode,errorText:n.errorText})}},onFailure:function(n){f("Err: "+n.errorText);l({errorCode:n.errorCode,errorText:n.errorText})}})};j.prototype.removeFile=function(k,l,m){i.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"fs/removeFile",parameters:{file:m.file},onSuccess:function(n){f("onSuccess");if(n.returnValue===true){k()}else{l({errorCode:n.errorCode,errorText:n.errorText})}},onFailure:function(n){f("onFailure");l({errorCode:n.errorCode,errorText:n.errorText})}})};j.prototype.listFiles=function(k,l){i.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"fs/listFiles",parameters:{directory:"file://internal"},onSuccess:function(m){if(m.returnValue===true){var n={files:m.files,totalCount:m.totalCount};k(n)}else{l({errorCode:m.errorCode,errorText:m.errorText})}},onFailure:function(m){l({errorCode:m.errorCode,errorText:m.errorText})}})};j.prototype.getStorageInfo=function(k,l){i.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"fs/storageInfo",parameters:{},onSuccess:function(m){f("returned : "+JSON.stringify(m,null,3));if(m.returnValue===true){f("returned : "+JSON.stringify(m,null,3));var n={free:m.spaceInfo.freeSize,total:m.spaceInfo.totalSize,used:m.spaceInfo.usedSize,};k(n)}else{l({errorCode:m.errorCode,errorText:m.errorText})}},onFailure:function(m){l({errorCode:m.errorCode,errorText:m.errorText})}})};b.exports=j});Storage=cordova.require("cordova/plugin/storage");