cordova.define("cordova/plugin/power",function(f,e,g){function h(i){console.log(i)}var b;if(window.PalmSystem){h("Window.PalmSystem Available");b=f("cordova/plugin/webos/service")}else{b={Request:function(i,j){h(i+" invoked. But I am a dummy because PalmSystem is not available");if(typeof j.onFailure==="function"){j.onFailure({returnValue:false,errorText:"PalmSystem Not Available. Cordova is not installed?"})}}}}var a=function(){};function d(j,k,i){if(j.errorCode===undefined||j.errorCode===null){j.errorCode=k}if(j.errorText===undefined||j.errorText===null){j.errorText=i}}a.PowerCommand={SHUTDOWN:"powerOff",REBOOT:"reboot"};a.DisplayMode={DISPLAY_OFF:"Screen Off",DISPLAY_ON:"Active"};a.TimerWeek={MONDAY:1,TUESDAY:2,WEDNESDAY:4,THURSDAY:8,FRIDAY:16,SATURDAY:32,SUNDAY:64,EVERYDAY:127};a.prototype.getPowerStatus=function(i,j){h("getPowerStatus: ");b.Request("luna://com.webos.service.tv.signage/",{method:"getPowerState",onSuccess:function(k){h("getPowerStatus: On Success");var l={};if(k.returnValue===true){l.displayMode=k.state}b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["wolEnable"]},onSuccess:function(m){h("getPowerStatus: On Success 2");if(m.returnValue===true){l.wakeOnLan=(m.settings.wolEnable==="1"?true:false)}b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"time",keys:["onTimerEnable","offTimerEnable"]},onSuccess:function(n){h("getPowerStatus: On Success 3");if(n.returnValue===true){l.allOnTimer=(n.settings.onTimerEnable==="on"?true:false);l.allOffTimer=(n.settings.offTimerEnable==="on"?true:false);if(i&&typeof i==="function"){i(l)}}},onFailure:function(n){h("getPowerStatus: On Failure 3");delete n.returnValue;if(j&&typeof j==="function"){d(n,"PGPS","Power.getPowerStatus returns failure.");j(n)}}})},onFailure:function(m){h("getPowerStatus: On Failure 2");delete m.returnValue;if(j&&typeof j==="function"){d(m,"PGPS","Power.getPowerStatus returns failure.");j(m)}}})},onFailure:function(k){h("getPowerStatus: On Failure");delete k.returnValue;if(j&&typeof j==="function"){d(k,"PGPS","Power.getPowerStatus returns failure.");j(k)}}});h("Power.getPowerStatus Done")};a.prototype.enableAllOnTimer=function(i,j,k){h("enableAllOnTimer: "+JSON.stringify(k));var l=null;switch(k.allOnTimer){case true:l="on";break;case false:l="off";break}b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"time",settings:{onTimerEnable:l}},onSuccess:function(){if(typeof i==="function"){h("enableAllOnTimer: On Success");i()}},onFailure:function(m){delete m.returnValue;if(typeof j==="function"){d(m,"PEAOT","Power.enableAllOnTimer returns failure.");h("enableAllOnTimer: On Failure");j(m)}}});h("Power.enableAllOnTimer Done")};a.prototype.enableAllOffTimer=function(i,j,k){h("enableAllOffTimer: "+JSON.stringify(k));var l=null;switch(k.allOffTimer){case true:l="on";break;case false:l="off";break}b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"time",settings:{offTimerEnable:l}},onSuccess:function(){if(typeof i==="function"){h("enableAllOffTimer: On Success");i()}},onFailure:function(m){delete m.returnValue;if(typeof j==="function"){d(m,"PEAOT","Power.enableAllOffTimer returns failure.");h("enableAllOffTimer: On Failure");j(m)}}});h("Power.enableAllOffTimer Done")};a.prototype.enableWakeOnLan=function(i,j,k){h("enableWakeOnLan: "+JSON.stringify(k));var l=null;switch(k.wakeOnLan){case true:l="1";break;case false:l="0";break}b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"commercial",settings:{wolEnable:l}},onSuccess:function(){if(typeof i==="function"){h("enableWakeOnLan: On Success");i()}},onFailure:function(m){delete m.returnValue;if(typeof j==="function"){d(m,"PSWOL","Power.enableWakeOnLan returns failure.");h("enableWakeOnLan: On Failure");j(m)}}});h("Power.enableWakeOnLan Done")};function c(i){switch(i){case"ext://hdmi:1":return"HDMI1";case"ext://hdmi:2":return"HDMI2";case"ext://dvi:1":return"DVI";case"ext://dp:1":return"DISPLAYPORT";case"HDMI1":return"ext://hdmi:1";case"HDMI2":return"ext://hdmi:2";case"DVI":return"ext://dvi:1";case"DISPLAYPORT":return"ext://dp:1"}return null}a.prototype.addOnTimer=function(j,k,l){h("addOnTimer: "+JSON.stringify(l));if(l.hour===undefined||typeof l.hour!=="number"||l.hour<0||l.hour>23||l.minute===undefined||typeof l.minute!=="number"||l.minute<0||l.minute>59||l.week===undefined||typeof l.week!=="number"||l.week<0||l.week>127||l.inputSource===undefined||typeof l.inputSource!=="string"||l.inputSource.indexOf("ext://")!==0){if(typeof k==="function"){var i={};d(i,"PAOT","Power.addOnTimer returns failure. invalid parameters or out of range.");k(i)}return}b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["multiOnTimerHour","multiOnTimerMinute","multiOnTimerWeekday","multiOnTimerSource","onTimerSchedule","onTimerCount"]},onSuccess:function(m){if(m.returnValue===true){var o=(m.settings.onTimerSchedule===null||m.settings.onTimerSchedule===undefined?0:m.settings.onTimerSchedule.length);if(m.settings.multiOnTimerHour.length<=o){if(typeof k==="function"){d(m,"PSOT","Power.addOnTimer returns failure. No space to add timer.");k(m)}return}if(typeof m.settings.multiOnTimerHour==="string"){m.settings.multiOnTimerHour=JSON.parse(m.settings.multiOnTimerHour)}if(typeof m.settings.multiOnTimerMinute==="string"){m.settings.multiOnTimerMinute=JSON.parse(m.settings.multiOnTimerMinute)}if(typeof m.settings.multiOnTimerWeekday==="string"){m.settings.multiOnTimerWeekday=JSON.parse(m.settings.multiOnTimerWeekday)}if(typeof m.settings.multiOnTimerSource==="string"){m.settings.multiOnTimerSource=JSON.parse(m.settings.multiOnTimerSource)}if(typeof m.settings.onTimerSchedule==="string"){m.settings.onTimerSchedule=JSON.parse(m.settings.onTimerSchedule)}m.settings.multiOnTimerHour[o]=l.hour;m.settings.multiOnTimerMinute[o]=l.minute;m.settings.multiOnTimerWeekday[o]=l.week;m.settings.multiOnTimerSource[o]=c(l.inputSource);var n=360;m.settings.onTimerSchedule[o]={_id:""+n++,hour:l.hour,input:c(l.inputSource),minute:l.minute,weekday:l.week};b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"commercial",settings:{multiOnTimerHour:m.settings.multiOnTimerHour,multiOnTimerMinute:m.settings.multiOnTimerMinute,multiOnTimerWeekday:m.settings.multiOnTimerWeekday,multiOnTimerSource:m.settings.multiOnTimerSource,onTimerCount:o+1,onTimerSchedule:m.settings.onTimerSchedule}},onSuccess:function(){h("addOnTimer: On Success 2");if(typeof j==="function"){j()}},onFailure:function(p){h("addOnTimer: On Failure 2");delete p.returnValue;if(typeof k==="function"){d(p,"PAOT","Power.addOnTimer returns failure.");k(p)}}})}},onFailure:function(m){h("addOnTimer: On Failure");delete m.returnValue;if(k&&typeof k==="function"){d(m,"PAOT","Power.addOnTimer returns failure.");k(m)}}});h("Power.addOnTimer Done")};a.prototype.deleteOnTimer=function(j,k,l){h("deleteOnTimer: "+JSON.stringify(l));if(l.hour===undefined||typeof l.hour!=="number"||l.hour<0||l.hour>23||l.minute===undefined||typeof l.minute!=="number"||l.minute<0||l.minute>59||l.week===undefined||typeof l.week!=="number"||l.week<0||l.week>127||l.inputSource===undefined||typeof l.inputSource!=="string"||l.inputSource.indexOf("ext://")!==0){if(typeof k==="function"){var i={};d(i,"PDOT","Power.deleteOnTimer returns failure. invalid parameters or out of range.");k(i)}return}b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["multiOnTimerHour","multiOnTimerMinute","multiOnTimerWeekday","multiOnTimerSource","onTimerSchedule","onTimerCount"]},onSuccess:function(w){if(w.returnValue===true){if(typeof w.settings.multiOnTimerHour==="string"){w.settings.multiOnTimerHour=JSON.parse(w.settings.multiOnTimerHour)}if(typeof w.settings.multiOnTimerMinute==="string"){w.settings.multiOnTimerMinute=JSON.parse(w.settings.multiOnTimerMinute)}if(typeof w.settings.multiOnTimerWeekday==="string"){w.settings.multiOnTimerWeekday=JSON.parse(w.settings.multiOnTimerWeekday)}if(typeof w.settings.multiOnTimerSource==="string"){w.settings.multiOnTimerSource=JSON.parse(w.settings.multiOnTimerSource)}if(typeof w.settings.onTimerSchedule==="string"){w.settings.onTimerSchedule=JSON.parse(w.settings.onTimerSchedule)}var v=0,u=(w.settings.onTimerSchedule===null||w.settings.onTimerSchedule===undefined?0:w.settings.onTimerSchedule.length);var q=["0","0","0","0","0","0","0"],r=["0","0","0","0","0","0","0"],n=["0","0","0","0","0","0","0"],m=["0","0","0","0","0","0","0"],t=[];var p=c(l.inputSource);var o=false;for(var s=0;s<u;s++){if(w.settings.onTimerSchedule[s]===null){continue}if(o===false&&l.hour===w.settings.onTimerSchedule[s].hour&&l.minute===w.settings.onTimerSchedule[s].minute&&l.week===w.settings.onTimerSchedule[s].weekday&&p===w.settings.onTimerSchedule[s].input){o=true}else{q[v]=w.settings.multiOnTimerHour[s];r[v]=w.settings.multiOnTimerMinute[s];n[v]=w.settings.multiOnTimerWeekday[s];m[v]=w.settings.multiOnTimerSource[s];t[v]=w.settings.onTimerSchedule[s];v++}}if(o===true){u--}if(u===0){t=[]}if(w.settings.onTimerSchedule.length===u){if(typeof k==="function"){d(w,"PDOT","Power.deleteOnTimer returns failure. There is no 'on timer' matched in the list.");k(w)}return}b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"commercial",settings:{multiOnTimerHour:q,multiOnTimerMinute:r,multiOnTimerWeekday:n,multiOnTimerSource:m,onTimerCount:u,onTimerSchedule:t}},onSuccess:function(){h("deleteOnTimer: On Success 2");if(typeof j==="function"){j()}},onFailure:function(x){h("deleteOnTimer: On Failure 2");delete x.returnValue;if(typeof k==="function"){d(x,"PDOT","Power.deleteOnTimer returns failure.");k(x)}}})}},onFailure:function(m){h("deleteOnTimer: On Failure");delete m.returnValue;if(k&&typeof k==="function"){d(m,"PDOT","Power.deleteOnTimer returns failure.");k(m)}}});h("Power.deleteOnTimer Done")};a.prototype.addOffTimer=function(j,k,l){h("addOffTimer: "+JSON.stringify(l));if(l.hour===undefined||typeof l.hour!=="number"||l.hour<0||l.hour>23||l.minute===undefined||typeof l.minute!=="number"||l.minute<0||l.minute>59||l.week===undefined||typeof l.week!=="number"||l.week<0||l.week>127){if(typeof k==="function"){var i={};d(i,"PAOT","Power.addOffTimer returns failure. Invalid parameter.");k(i)}return}b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["multiOffTimerHour","multiOffTimerMinute","multiOffTimerWeekday","offTimerSchedule","offTimerCount"]},onSuccess:function(m){if(m.returnValue===true){var o=(m.settings.offTimerSchedule===null||m.settings.offTimerSchedule===undefined?0:m.settings.offTimerSchedule.length);if(m.settings.multiOffTimerHour.length<=o){if(typeof k==="function"){d(m,"PAOT","Power.addOffTimer returns failure. No space to add timer.");k(m)}return}if(typeof m.settings.multiOffTimerHour==="string"){m.settings.multiOffTimerHour=JSON.parse(m.settings.multiOffTimerHour)}if(typeof m.settings.multiOffTimerMinute==="string"){m.settings.multiOffTimerMinute=JSON.parse(m.settings.multiOffTimerMinute)}if(typeof m.settings.multiOffTimerWeekday==="string"){m.settings.multiOffTimerWeekday=JSON.parse(m.settings.multiOffTimerWeekday)}if(typeof m.settings.offTimerSchedule==="string"){m.settings.offTimerSchedule=JSON.parse(m.settings.offTimerSchedule)}m.settings.multiOffTimerHour[o]=l.hour;m.settings.multiOffTimerMinute[o]=l.minute;m.settings.multiOffTimerWeekday[o]=l.week;var n=360;m.settings.offTimerSchedule[o]={_id:""+n++,hour:l.hour,minute:l.minute,weekday:l.week};b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"commercial",settings:{multiOffTimerHour:m.settings.multiOffTimerHour,multiOffTimerMinute:m.settings.multiOffTimerMinute,multiOffTimerWeekday:m.settings.multiOffTimerWeekday,offTimerCount:o+1,offTimerSchedule:m.settings.offTimerSchedule}},onSuccess:function(){h("addOffTimer: On Success 2");if(typeof j==="function"){j()}},onFailure:function(p){h("addOffTimer: On Failure 2");delete p.returnValue;if(typeof k==="function"){d(p,"PAOT","Power.addOffTimer returns failure.");k(p)}}})}},onFailure:function(m){h("addOffTimer: On Failure");delete m.returnValue;if(k&&typeof k==="function"){d(m,"PAOT","Power.addOffTimer returns failure.");k(m)}}});h("Power.addOffTimer Done")};a.prototype.deleteOffTimer=function(j,k,l){h("deleteOffTimer: "+JSON.stringify(l));if(l.hour===undefined||typeof l.hour!=="number"||l.hour<0||l.hour>23||l.minute===undefined||typeof l.minute!=="number"||l.minute<0||l.minute>59||l.week===undefined||typeof l.week!=="number"||l.week<0||l.week>127){if(typeof k==="function"){var i={};d(i,"PDOT","Power.deleteOffTimer returns failure. invalid parameters or out of range.");k(i)}return}b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["multiOffTimerHour","multiOffTimerMinute","multiOffTimerWeekday","offTimerSchedule","offTimerCount"]},onSuccess:function(u){if(u.returnValue===true){if(typeof u.settings.multiOffTimerHour==="string"){u.settings.multiOffTimerHour=JSON.parse(u.settings.multiOffTimerHour)}if(typeof u.settings.multiOffTimerMinute==="string"){u.settings.multiOffTimerMinute=JSON.parse(u.settings.multiOffTimerMinute)}if(typeof u.settings.multiOffTimerWeekday==="string"){u.settings.multiOffTimerWeekday=JSON.parse(u.settings.multiOffTimerWeekday)}if(typeof u.settings.offTimerSchedule==="string"){u.settings.offTimerSchedule=JSON.parse(u.settings.offTimerSchedule)}var t=0,s=(u.settings.offTimerSchedule===null||u.settings.offTimerSchedule===undefined?0:u.settings.offTimerSchedule.length);var o=["0","0","0","0","0","0","0"],p=["0","0","0","0","0","0","0"],m=["0","0","0","0","0","0","0"],r=[];var n=false;for(var q=0;q<s;q++){if(u.settings.offTimerSchedule[q]===null){continue}if(n===false&&l.hour===u.settings.offTimerSchedule[q].hour&&l.minute===u.settings.offTimerSchedule[q].minute&&l.week===u.settings.offTimerSchedule[q].weekday){n=true}else{o[t]=u.settings.multiOffTimerHour[q];p[t]=u.settings.multiOffTimerMinute[q];m[t]=u.settings.multiOffTimerWeekday[q];r[t]=u.settings.offTimerSchedule[q];t++}}if(n===true){s--}if(s===0){r=[]}if(u.settings.offTimerSchedule.length===s){if(typeof k==="function"){d(u,"PDOT","Power.deleteOffTimer returns failure. There is no 'off timer' matched in the list.");k(u)}return}b.Request("luna://com.lge.settingsservice/",{method:"setSystemSettings",parameters:{category:"commercial",settings:{multiOffTimerHour:o,multiOffTimerMinute:p,multiOffTimerWeekday:m,offTimerCount:s,offTimerSchedule:r}},onSuccess:function(){h("deleteOffTimer: On Success 2");if(typeof j==="function"){j()}},onFailure:function(v){h("deleteOffTimer: On Failure 2");delete v.returnValue;if(typeof k==="function"){d(v,"PDOT","Power.deleteOffTimer returns failure.");k(v)}}})}},onFailure:function(m){h("deleteOffTimer: On Failure");delete m.returnValue;if(k&&typeof k==="function"){d(m,"PDOT","Power.deleteOffTimer returns failure.");k(m)}}});h("Power.deleteOffTimer Done")};a.prototype.getOnTimerList=function(i,j){h("getOnTimerList: ");b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["onTimerSchedule"]},onSuccess:function(k){if(k.returnValue===true){var n={};var o=new Array(k.settings.onTimerSchedule===null||k.settings.onTimerSchedule===undefined?0:k.settings.onTimerSchedule.length);for(var l=0,m=0;m<o.length;m++){if(k.settings.onTimerSchedule[m]===null||k.settings.onTimerSchedule[m]===undefined){continue}o[l]={hour:0,minute:0,week:0,inputSource:0};o[l].hour=k.settings.onTimerSchedule[m].hour;o[l].minute=k.settings.onTimerSchedule[m].minute;o[l].week=k.settings.onTimerSchedule[m].weekday;o[l++].inputSource=c(k.settings.onTimerSchedule[m].input)}n.timerList=o;if(i&&typeof i==="function"){i(n)}}},onFailure:function(k){h("getOnTimerList: On Failure");delete k.returnValue;if(j&&typeof j==="function"){d(k,"PGOTL","Power.getOnTimerList returns failure.");j(k)}}});h("Power.getOnTimerList Done")};a.prototype.getOffTimerList=function(i,j){h("getOffTimerList: ");b.Request("luna://com.lge.settingsservice/",{method:"getSystemSettings",parameters:{category:"commercial",keys:["offTimerSchedule"]},onSuccess:function(k){h("getOffTimerList: On Success");if(k.returnValue===true){var n={};var o=new Array(k.settings.offTimerSchedule===null||k.settings.offTimerSchedule===undefined?0:k.settings.offTimerSchedule.length);for(var l=0,m=0;m<o.length;m++){if(k.settings.offTimerSchedule[m]===null||k.settings.offTimerSchedule[m]===undefined){continue}o[l]={hour:0,minute:0,week:0};o[l].hour=k.settings.offTimerSchedule[m].hour;o[l].minute=k.settings.offTimerSchedule[m].minute;o[l++].week=k.settings.offTimerSchedule[m].weekday}n.timerList=o;if(i&&typeof i==="function"){i(n)}}},onFailure:function(k){h("getOffTimerList: On Failure");delete k.returnValue;if(j&&typeof j==="function"){d(k,"PGOTL","Power.getOffTimerList returns failure.");j(k)}}});h("Power.getOffTimerList Done")};a.prototype.setDisplayMode=function(j,k,l){h("setDisplayMode: "+JSON.stringify(l));var m=null;switch(l.displayMode){case a.DisplayMode.DISPLAY_OFF:m="turnOffScreen";break;case a.DisplayMode.DISPLAY_ON:m="turnOnScreen";break}h("setDisplayMode: "+m);if(m===null&&k&&typeof k==="function"){var i={};d(i,"PSDM","Power.setDisplayMode returns failure. command was not defined.");k(i);h("Power.setDisplayMode invalid ");return}b.Request("luna://com.webos.service.tv.signage/",{method:"getPowerState",onSuccess:function(n){h("setDisplayMode: On Success");if(n.returnValue===true&&n.state===l.displayMode){if(j&&typeof j==="function"){h("setDisplayMode: no need to do any action.");j()}return}b.Request("luna://com.webos.service.tv.signage/",{method:m,onSuccess:function(o){h("setDisplayMode: On Success");if(o.returnValue===true){if(j&&typeof j==="function"){j()}}},onFailure:function(o){h("setDisplayMode: On Failure");delete o.returnValue;if(k&&typeof k==="function"){d(o,"PSDM","Power.setDisplayMode returns failure.");k(o)}}})},onFailure:function(n){h("setDisplayMode: On Failure 2");delete n.returnValue;if(k&&typeof k==="function"){d(n,"PSDM","Power.setDisplayMode returns failure.");k(n)}}});h("Power.setDisplayMode Done")};a.prototype.executePowerCommand=function(j,k,l){h("executePowerCommand: "+JSON.stringify(l));if(l.powerCommand===undefined||typeof l.powerCommand!=="string"||l.powerCommand===null||l.powerCommand.length<=0){if(typeof k==="function"){var i={};d(i,"PEPM","Power.executePowerCommand returns failure. invalid argument or out of range. ");k(i)}return}b.Request("luna://com.webos.service.tv.signage/",{method:l.powerCommand,parameters:{reason:"unknown"},onSuccess:function(m){h("executePowerCommand: On Success");if(m.returnValue===true){if(j&&typeof j==="function"){j()}}},onFailure:function(m){h("executePowerCommand: On Failure");delete m.returnValue;if(k&&typeof k==="function"){d(m,"PEPM","Power.executePowerCommand returns failure.");k(m)}}});h("Power.executePowerCommand Done")};g.exports=a});Power=cordova.require("cordova/plugin/power");